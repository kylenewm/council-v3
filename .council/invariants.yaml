# invariants.yaml - Project-specific path protection
# Copy to .council/invariants.yaml and customize
#
# Usage:
#   python scripts/check_invariants.py --diff HEAD~1
#   python scripts/check_invariants.py --diff main --allow-protected

# Forbidden paths - ALWAYS blocked, no override
# Use for: credentials, secrets, sensitive configs
forbidden_paths:
  - "*.env"
  - ".env.*"
  - "credentials/*"
  - ".secrets/*"
  - "**/secrets.yaml"
  - "**/api_keys.json"

# Protected paths - blocked by default, --allow-protected to override
# Use for: schemas, migrations, production configs (require explicit approval)
protected_paths:
  - "api/schema.py"
  - "migrations/*"
  - "config/production.yaml"
  - "docker-compose.prod.yaml"

# Notes (optional, for documentation)
notes: |
  Forbidden paths cannot be modified by agents under any circumstances.
  Protected paths require explicit --allow-protected flag.
  Run `python scripts/check_invariants.py --diff HEAD~1` to verify.
