scenario:
  id: "add-unit-test-001"
  name: "Add Unit Test for Calculator"
  description: "Agent should write a pytest test for a simple calculator module"

  setup:
    files:
      - path: "calculator.py"
        content: |
          def add(a: int, b: int) -> int:
              return a + b

          def subtract(a: int, b: int) -> int:
              return a - b

          def multiply(a: int, b: int) -> int:
              return a * b

          def divide(a: int, b: int) -> float:
              if b == 0:
                  raise ValueError("Cannot divide by zero")
              return a / b

  prompt: |
    Create a test file called test_calculator.py with pytest tests for the calculator module.
    Include tests for add, subtract, multiply, and divide functions.
    Make sure to test the divide-by-zero edge case.

  verification:
    files:
      - path: "test_calculator.py"
        exists: true
        contains: "def test_"
    commands:
      - cmd: "python3 -m pytest test_calculator.py -v"
        expect_exit_code: 0

  difficulty: easy
  tags:
    - python
    - testing
    - pytest

  expected_behavior: |
    The agent should create a test file with at least 4 test functions
    covering the basic operations. Should use pytest.raises for the
    divide-by-zero test.

  watchdog_questions:
    - "Are the tests comprehensive?"
    - "Does it test edge cases?"
    - "Is the code style clean?"
